<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Wildcat Innovation Labs</title>
    <link rel="stylesheet" href="/css/style.css"> <!-- Add your stylesheet here -->
    <script type="text/javascript" src="/js/script.js"></script>
    <script async src="https://d3kno6bpmj270m.cloudfront.net/widget/userdesk.js" data-userdesk="clwtw2kt70002gsk0xb9dilcp"></script>
</head>

<body class="body_index">
    <nav class="nav">
        <ul class="navbar-links">
            <li><a href="/" class="logo-image"><img src="/123123.png" alt="Logo"></a></li>
            <li><a href="#incubatees">Incubatees</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#thrusts">Thrusts</a></li>
            <li><a href="#facilities">Facilities</a></li>
            <li><a href="#team">Team</a></li>
            <li><a href="#feedbacks">Feedback</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <div class="image-container">
        <div id="home"><img src="/home.png" alt="Welcome to Wildcat Innovation Labs"></div>
        <div id="incubatees"><img src="/incubatees.jpg" alt="Incubatees"></div>
        <div id="about"><img src="/aboutus.jpg" alt="About"></div>
        <div id="thrusts"><img src="/thrusts.jpg" alt="Thrusts"></div>
        <div id="facilities"><img src="/facilities.jpg" alt="Facilities"></div>
        <div id="team"><img src="/team.jpg" alt="Team"></div>
        <div id="feedbacks">
            <marquee>
                <h3>&nbsp;&nbsp;SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT<br>
                    SPOTlight your success story SPOTlight your success story SPOTlight <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT <br>
                    SPOTlight your success story SPOTlight your success story SPOT SPOT<br>
                    &nbsp;&nbsp;SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT SPOT<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;SPOTlight your success story SPOTlight your <br>
                    &nbsp;SPOTlight your success story SPOTlight your success story SPOT<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;SPOT SPOT SPOTlight your success story SPOTlight
                    &nbsp;SPOTlight your success story SPOTlight your success story SPOT
                </h3>
            </marquee>
            <div class="feedbacks">
                <div class="topFeedback">
                    <h1>| TRUSTED BY MANY</h1>
                    <!--For testing  User Side-->
                </div>
                <div class="carousel-container">
                    <ul class="carousel-list">
                        <li th:each="feedback : ${feedbacks}" class="carousel-item">
                                "<span class="feedbackText" th:text="${feedback.feedbackContent}"></span>"
                                <pre>
                                </pre>
                            "<span th:if="${!feedback.editMode}" th:text="${feedback.suggestion}"></span>"
                            <div class="userFeedProfile">
                                <img src="/icon.jpg" class="profileIcon" alt="Icon">
                                <div class="textContainer">
                                    <span> by </span><br>
                                    <span class="userFullName" th:text="${feedback.isPublic ? feedback.userLogin : 'Anonymous'}"></span>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <button class="carousel-prev"><</button>
                    <button class="carousel-next">></button>
                </div>
                <p>Care to share your story and SPOTlight your journey with WILdcat Innovation Labs</p>
                <button id="openSpotlightBtn" class="spotlightBtn">SPOTLIGHT</button>
                <br><br>
            </div>
        </div>
        <div class="circle"></div>
    </div>

    <footer>
        <div class="image-container" id="contact"><img src="/contact.jpg" alt="Contact"></div>
    </footer>

    <div id="addfeedbackModal" class="feedbackModal">
        <div class="feedbackModal-content">
            <span class="closeModal">&times;</span>
            <h1>Journey with WIL</h1>
            <h3>a feedback for WILdcat Innovation Labs</h3>
            <form th:action="@{/submitFeedback}" method="post">
                <label for="feedbackTextModal">Share your story:</label><br>
                <textarea id="feedbackTextModal" name="feedback" maxlength="255" required rows="4" cols="46"></textarea>
                
                <div class="checkbox-container">
                    <p>Show my name publicly</p>
                    <input type="checkbox" id="checkboxNameIsPublic" name="isPublic" checked>
                </div>
                
                <input type="hidden" name="userLogin" th:value="${userName}" />
                
                <p>Any suggestions for improvement? (Optional)</p><br>
                <input type="text" id="suggestionTextModal" name="suggestion" maxlength="255">
                
                <div class="input-box">
                    <input type="submit" value="Share">
                </div>
            </form>
        </div>
    </div>

    <script>
        const carouselList = document.querySelector('.carousel-list');
        const carouselItems = Array.from(carouselList.children);
        const carouselPrev = document.querySelector('.carousel-prev');
        const carouselNext = document.querySelector('.carousel-next');
        let currentIndex = 0;

        function updateCarousel() {
            carouselItems.forEach((item, index) => {
                item.style.display = (index >= currentIndex && index < currentIndex + 3) ? 'block' : 'none';
            });
        }

        updateCarousel();

        carouselNext.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % carouselItems.length;
            for (let i = 0; i < 3; i++) {
                const nextIndex = (currentIndex + i) % carouselItems.length;
                carouselItems[nextIndex].classList.add('blink-animation');
            }
            setTimeout(() => {
                for (let i = 0; i < 3; i++) {
                    const nextIndex = (currentIndex + i) % carouselItems.length;
                    carouselItems[nextIndex].classList.remove('blink-animation');
                }
            }, 500);
            updateCarousel();
        });

        carouselPrev.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + carouselItems.length) % carouselItems.length;
            for (let i = 0; i < 3; i++) {
                const prevIndex = (currentIndex + i) % carouselItems.length;
                carouselItems[prevIndex].classList.add('blink-animation');
            }
            setTimeout(() => {
                for (let i = 0; i < 3; i++) {
                    const prevIndex = (currentIndex + i) % carouselItems.length;
                    carouselItems[prevIndex].classList.remove('blink-animation');
                }
            }, 1000);
            updateCarousel();
        });

        let intervalId;
        function startAutomaticTransition() {
            intervalId = setInterval(() => {
                carouselNext.click();
            }, 5000);
        }

        function stopAutomaticTransition() {
            clearInterval(intervalId);
        }

        startAutomaticTransition();

        const modal = document.getElementById("addfeedbackModal");
        const btn = document.getElementById("openSpotlightBtn");
        const span = document.getElementsByClassName("closeModal")[0];

        btn.onclick = function() {
            modal.style.display = "block";
        }

        span.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // Add the event listener for the button click
        document.getElementById("openMyFeedbacksBtn").addEventListener("click", function() {
            window.location.href = "userFeedbackDashboard.html";
        });
    </script>
</body>

</html>
